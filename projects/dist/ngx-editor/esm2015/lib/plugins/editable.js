import { Plugin, PluginKey } from 'prosemirror-state';
const editablePlugin = (editable = true) => {
    return new Plugin({
        key: new PluginKey('editable'),
        state: {
            init() {
                return editable;
            },
            apply(tr, previousVal) {
                var _a;
                return (_a = tr.getMeta('UPDATE_EDITABLE')) !== null && _a !== void 0 ? _a : previousVal;
            }
        },
        props: {
            editable(state) {
                return this.getState(state);
            },
            attributes(state) {
                const isEnabled = this.getState(state);
                if (isEnabled) {
                    return null;
                }
                return {
                    class: 'NgxEditor__Content--Disabled'
                };
            }
        }
    });
};
export default editablePlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9uZ3gtZWRpdG9yL3NyYy9saWIvcGx1Z2lucy9lZGl0YWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWUsTUFBTSxFQUFFLFNBQVMsRUFBZSxNQUFNLG1CQUFtQixDQUFDO0FBRWhGLE1BQU0sY0FBYyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksRUFBRSxFQUFFO0lBQ3pDLE9BQU8sSUFBSSxNQUFNLENBQUM7UUFDaEIsR0FBRyxFQUFFLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQztRQUM5QixLQUFLLEVBQUU7WUFDTCxJQUFJO2dCQUNGLE9BQU8sUUFBUSxDQUFDO1lBQ2xCLENBQUM7WUFDRCxLQUFLLENBQUMsRUFBZSxFQUFFLFdBQW9COztnQkFDekMsYUFBTyxFQUFFLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLG1DQUFJLFdBQVcsQ0FBQztZQUN0RCxDQUFDO1NBQ0Y7UUFDRCxLQUFLLEVBQUU7WUFDTCxRQUFRLENBQUMsS0FBa0I7Z0JBQ3pCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QixDQUFDO1lBQ0QsVUFBVSxDQUFDLEtBQWtCO2dCQUMzQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUV2QyxJQUFJLFNBQVMsRUFBRTtvQkFDYixPQUFPLElBQUksQ0FBQztpQkFDYjtnQkFFRCxPQUFPO29CQUNMLEtBQUssRUFBRSw4QkFBOEI7aUJBQ3RDLENBQUM7WUFDSixDQUFDO1NBQ0Y7S0FDRixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixlQUFlLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvclN0YXRlLCBQbHVnaW4sIFBsdWdpbktleSwgVHJhbnNhY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5cbmNvbnN0IGVkaXRhYmxlUGx1Z2luID0gKGVkaXRhYmxlID0gdHJ1ZSkgPT4ge1xuICByZXR1cm4gbmV3IFBsdWdpbih7XG4gICAga2V5OiBuZXcgUGx1Z2luS2V5KCdlZGl0YWJsZScpLFxuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZWRpdGFibGU7XG4gICAgICB9LFxuICAgICAgYXBwbHkodHI6IFRyYW5zYWN0aW9uLCBwcmV2aW91c1ZhbDogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0ci5nZXRNZXRhKCdVUERBVEVfRURJVEFCTEUnKSA/PyBwcmV2aW91c1ZhbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHByb3BzOiB7XG4gICAgICBlZGl0YWJsZShzdGF0ZTogRWRpdG9yU3RhdGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoc3RhdGUpO1xuICAgICAgfSxcbiAgICAgIGF0dHJpYnV0ZXMoc3RhdGU6IEVkaXRvclN0YXRlKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IG51bGwge1xuICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSB0aGlzLmdldFN0YXRlKHN0YXRlKTtcblxuICAgICAgICBpZiAoaXNFbmFibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNsYXNzOiAnTmd4RWRpdG9yX19Db250ZW50LS1EaXNhYmxlZCdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZWRpdGFibGVQbHVnaW47XG4iXX0=